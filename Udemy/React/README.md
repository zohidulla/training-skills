# React

> React - библиотека для создания пользовательских интерфейсов.
> Можно создавать интерфейсы без **REACT** только с помощью **HTML, CSS и JAVASCRIPT**.
> Но это намного сложнее

### Одностраничные приложения (SPA - SINGLE PAGE APPLICATION)

JavaScript фреймворки и библиотеки для **создания однастраничных** приложений.

> Приимущества

- Веб страница **не перезагружается** при навигации по приложению
- **Моментальная** перерисовка элементов веб страницы
- Легче разворачивать, потому что SPA содержит только **несколько статических файлов**
- Эффективное использование пропускной способности

> Недостатки

- Для поисковой оптимизации (**SEO**) необходимо выполнить дополнительную настройку сервера для корректного сканирования ботами, такими как Googlebot
- **Большой размер файла** JavaScript влияет на время начальной загрузки приложения

## Основы **React**

### Document object model (DOM)

> Изменение состояния

- Реальный DOM
- Виртуальный DOM

> Две версии **Виртуального DOM**

- Текущее состояние
- Предыдущее состояние

> Сравнение с предыдущей версией => Определение отличий => Внесение изменений в **Реальный DOM**

> [!NOTE]
> Реальный и виртуальный DOM синхронизированы!

## Ключевые понятия в REACT

- Компоненты **components**
- JSX **JavaScript Syntax Extension**
- Свойства **props**
- Состояние **state**

### Компоненты

> Характеристики компонентов

- Компоненты можно использовать **многократно**
- Компоненты формируют четкую **иерархическую** структуру
- Видом компонентов можно управлять извне с помощью **свойств**
- Компоненты могут иметь своё собственное **состояние**
- Каждый компонент отвечает за отдельную логическую часть интерфейса

> Иерархия и переиспользование компонентов

- Корневой компонент
- Компонент, объединяющий схожие компоненты
- Видимые компоненты
- Переиспользование компонентов

> Из чего состоят компоненты **React**

> Анатомия компонента **REACT**

- HTML
- CSS
- JavaScript

### Функциональные компоненты

```js
function HelloWorld() {
  return <h1>Hello World</h1>;
}
```

```js
const HelloWorld = () => {
  return <h1>Hello World</h1>;
};
// Можно использовать и стрелочные функции
```

### Классовые компоненты

```js
class HelloWorld extends Component {
  render() {
    return <h1>Hello World</h1>;
  }
}
// Обязательный метод render определяет то, что подлежит рендерингу
```

### JavaScript Syntax Extension (JSX)

```js
<Card // Похоже на CSS
  style={{
    backgroundColor: `rgb(${initialColor}, ${opacity})`,
  }}
  className="m-2"
>
  <Card.Img // Похоже на HTML
    variant="top"
    style={
      imageLoaded
        ? { opacity: 1, transition: "opacity 2s easy-in-out" }
        : { opacity: 0 }
    }
    src={image}
    alt={title}
    onLoad={() => setImageLoaded(true)} // JavaScript
  />
</Card>
```

### JSX - Синтаксическая надстройка над JS

```js
React.createElement(
  Card,
  {
    style: {
      backgroundColor: `rgb(${initialColor}, ${opacity})`,
    },
    className: "m-2",
  },
  React.createElement(Card.Img, {
    variant: "top",
    style: imageLoaded
      ? {
          opacity: 1,
          transition: "opacity 2s ease-in-out",
        }
      : {
          opacity: 0,
        },
    src: image,
    alt: title,
    onLoad: () => setImageLoaded(true),
  })
);
```

> Пользовательские и встроенные компоненты в JSX

```js
return (
  // Валидный JSX
  <div>
    <h1>JSX в React</h1> // Встроенный компонент h1
    <p>JSX похож на HTML</p>
    <Footer text={text} /> // Пользовательский компонент Footer
  </div>
);
```

> [!NOTE]
>
> **JSX** должен иметь один корневой элемент

```js
// Невалидный JSX
return (
  <h1>JSX в React</h1>
  <p>JSX похож на HTML</p>
);
```

```js
// Невалидный JavaScript
return (
  React.createElement("h1", null, "JSX в React")
  React.createElement("p", null, "JSX похож на HTML")
);
```

### Свойства (PROPS) и состояние (STATE)

- Свойства компоненту передаются от родительского компонента

> Передача свойств

- Свойства **нельзя** передавать родительскому компоненту

- Компонент **не должен** изменять собственные **свойства**

- Компонент **может** изменять собственное **состояние**

- Компонент **не может** изменять **состояние** других компонентов

- Но можно влиять на изменение **состояния** других компонентов

- Можно передавать часть сових **свойств** и **состояния** дочерним компонентам в виде **свойств**

- Компонент подлежит ререндерингу при изменении **свойств** или **состояния**

### REACT HOOKS

**В версии React 16.8 появилась поддержка React hooks**

**React hooks позволяют управлять состоянием в функциональных компонентах**

**Основные хуки React**

- useState
- useEffect
